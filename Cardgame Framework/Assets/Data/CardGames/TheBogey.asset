%YAML 1.1
%TAG !u! tag:unity3d.com,2011:
--- !u!114 &11400000
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 5d3cdce60015f2f41b00199fab41ec82, type: 3}
  m_Name: TheBogey
  m_EditorClassIdentifier: 
  cardgameID: TheBogey
  gameVariableNames: []
  gameVariableValues: []
  cardsets:
  - {fileID: 11400000, guid: 1f42ce9ea319df54fb1acca237a5120e, type: 2}
  rulesets:
  - rulesetID: Easy
    description: 
    turnStructure: Draw,Play,Bogey
    rulesetVariableNames: []
    rulesetVariableValues: []
    matchRules:
    - ruleID: GameSetup
      tags: 
      trigger: OnMatchSetup
      condition: 
      commands: Shuffle(z(t:Deck))
    - ruleID: DealCards
      tags: 
      trigger: OnPhaseStarted
      condition: phase=Draw
      commands: MoveCardToZone(c(z:Deck,x:5-nc(z:Hand)),z(t:Hand));EndCurrentPhase
    - ruleID: MoveToColumnInPlayPhase1
      tags: 
      trigger: OnZoneUsed
      condition: usedZone=>z(t:Column)&phase=Play&usedCard=>c(z:Hand)&(nc(z:usedZone)=0|(cf(Suit,z:usedZone,x:1)=cf(Suit,i:usedCard)&cf(Value,z:usedZone,x:1)>cf(Value,i:usedCard)))
      commands: MoveCardToZone(c(i:usedCard),z(i:usedZone))
    - ruleID: MoveToColumnInPlayPhase2
      tags: 
      trigger: OnZoneUsed
      condition: usedZone=>z(t:Column)&phase=Play&usedCard=>c(z:Hand)&cf(Suit,z:usedZone,b:1)=cf(Suit,i:usedCard)&cf(Value,z:usedZone,b:1)<cf(Value,i:usedCard)
      commands: MoveCardToZone(c(i:usedCard),z(i:usedZone),Bottom)
    - ruleID: DiscardCardFromHand
      tags: 
      trigger: OnZoneUsed
      condition: usedZone=>z(t:Discard)&phase=Play&usedCard=>c(z:Hand)
      commands: MoveCardToZone(c(i:usedCard),z(t:Discard))
    - ruleID: EndPlayPhase
      tags: 
      trigger: OnCardEnteredZone
      condition: phase=Play&!targetZone=>z(t:Hand)&nc(z:Hand)=0
      commands: EndCurrentPhase
    - ruleID: EndPlayAction
      tags: 
      trigger: OnActionUsed
      condition: phase=Play&actionName=EndPlay
      commands: EndCurrentPhase
    - ruleID: BogeyCard
      tags: 
      trigger: OnPhaseStarted
      condition: phase=Bogey
      commands: MoveCardToZone(c(z:Deck,x:1),z(t:Bogey))
    - ruleID: BogeyPlay1
      tags: 
      trigger: OnZoneUsed
      condition: phase=Bogey&usedZone=>z(t:Column)&(nc(z:usedZone)=0|(cf(Suit,z:usedZone)=cf(Suit,z:Bogey)&cf(Value,z:usedZone,x:1)>cf(Value,z:Bogey)))
      commands: MoveCardToZone(c(z:Bogey),z(i:usedZone));EndCurrentPhase
    - ruleID: BogeyPlay2
      tags: 
      trigger: OnZoneUsed
      condition: phase=Bogey&usedZone=>z(t:Column)&cf(Suit,z:usedZone,b:1)=cf(Suit,z:Bogey)&cf(Value,z:usedZone,b:1)<cf(Value,z:Bogey)
      commands: MoveCardToZone(c(z:Bogey),z(i:usedZone),Bottom);EndCurrentPhase
    - ruleID: ReuseDiscardedCards
      tags: 
      trigger: OnCardLeftZone
      condition: oldZone=>z(t:Deck)&nc(z:Deck)=0
      commands: MoveCardToZone(c(z:Discard),z(t:Deck))
    - ruleID: EndGame
      tags: 
      trigger: OnTurnEnded
      condition: nc(z:Deck)=0&nc(z:Discard)=0
      commands: SendMessage(Victory);EndTheMatch
    - ruleID: DrawMoreCards
      tags: 
      trigger: OnPhaseEnded
      condition: phase=Draw
      commands: MoveCardToZone(c(z:Deck,x:5-nc(z:Hand)),z(t:Hand))
