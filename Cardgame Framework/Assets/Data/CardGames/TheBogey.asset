%YAML 1.1
%TAG !u! tag:unity3d.com,2011:
--- !u!114 &11400000
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 5d3cdce60015f2f41b00199fab41ec82, type: 3}
  m_Name: TheBogey
  m_EditorClassIdentifier: 
  cardgameID: TheBogey
  gameVariableNames: []
  gameVariableValues: []
  rulesets:
  - rulesetID: Easy
    description: 
    turnStructure: Draw,Play,Bogey
    rulesetVariableNames: []
    rulesetVariableValues: []
    matchRules:
    - ruleID: GameSetup
      tags: 
      trigger: OnMatchSetup
      condition: 
      commands: Shuffle(z(@Deck))
    - ruleID: DealCards
      tags: 
      trigger: OnPhaseStarted
      condition: phase=Draw
      commands: MoveCardToZone(c(@Deck,x5-nc(@Hand)),z(@Hand));EndCurrentPhase
    - ruleID: MoveToColumnInPlayPhase1
      tags: 
      trigger: OnZoneUsed
      condition: usedZone=>z(@Column)&phase=Play&usedCard=>c(@Hand)&(nc(@usedZone)=0|(cf(Suit,@usedZone,x1)=cf(Suit,#usedCard)&cf(Value,@usedZone,x1)>cf(Value,#usedCard)))
      commands: MoveCardToZone(c(#usedCard),z(#usedZone))
    - ruleID: MoveToColumnInPlayPhase2
      tags: 
      trigger: OnZoneUsed
      condition: usedZone=>z(@Column)&phase=Play&usedCard=>c(@Hand)&cf(Suit,@usedZone,b1)=cf(Suit,#usedCard)&cf(Value,@usedZone,b1)<cf(Value,#usedCard)
      commands: MoveCardToZone(c(#usedCard),z(#usedZone),Bottom)
    - ruleID: DiscardCardFromHand
      tags: 
      trigger: OnZoneUsed
      condition: usedZone=>z(@Discard)&phase=Play&usedCard=>c(@Hand)
      commands: MoveCardToZone(c(#usedCard),z(@Discard))
    - ruleID: EndPlayPhase
      tags: 
      trigger: OnCardEnteredZone
      condition: phase=Play&!targetZone=>z(@Hand)&nc(@Hand)=0
      commands: EndCurrentPhase
    - ruleID: EndPlayAction
      tags: 
      trigger: OnActionUsed
      condition: phase=Play&actionName=EndPlay
      commands: EndCurrentPhase
    - ruleID: BogeyCard
      tags: 
      trigger: OnPhaseStarted
      condition: phase=Bogey
      commands: MoveCardToZone(c(@Deck,x1),z(@Bogey))
    - ruleID: BogeyPlay1
      tags: 
      trigger: OnZoneUsed
      condition: phase=Bogey&usedZone=>z(@Column)&(nc(@usedZone)=0|(cf(Suit,@usedZone)=cf(Suit,@Bogey)&cf(Value,@usedZone,x1)>cf(Value,@Bogey)))
      commands: MoveCardToZone(c(@Bogey),z(#usedZone));EndCurrentPhase
    - ruleID: BogeyPlay2
      tags: 
      trigger: OnZoneUsed
      condition: phase=Bogey&usedZone=>z(@Column)&cf(Suit,@usedZone,b1)=cf(Suit,@Bogey)&cf(Value,@usedZone,b1)<cf(Value,@Bogey)
      commands: MoveCardToZone(c(@Bogey),z(#usedZone),Bottom);EndCurrentPhase
    - ruleID: ReuseDiscardedCards
      tags: 
      trigger: OnCardLeftZone
      condition: oldZone=>z(@Deck)&nc(@Deck)=0
      commands: MoveCardToZone(c(@Discard),z(@Deck))
    - ruleID: EndGame
      tags: 
      trigger: OnTurnEnded
      condition: nc(@Deck)=0&nc(@Discard)=0
      commands: SendMessage(Victory);EndTheMatch
    - ruleID: DrawMoreCards
      tags: 
      trigger: OnPhaseEnded
      condition: phase=Draw
      commands: MoveCardToZone(c(@Deck,x5-nc(@Hand)),z(@Hand))
