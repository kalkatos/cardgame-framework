%YAML 1.1
%TAG !u! tag:unity3d.com,2011:
--- !u!114 &11400000
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 5d3cdce60015f2f41b00199fab41ec82, type: 3}
  m_Name: Scoundrel
  m_EditorClassIdentifier: 
  cardgameID: Scoundrel
  allCardsData:
  - {fileID: 11400000, guid: a844f224160c24c41a428715dd3a26fe, type: 2}
  - {fileID: 11400000, guid: d4084177a313a6a41b7e84d0b758c47a, type: 2}
  - {fileID: 11400000, guid: 264fb7993443cdb42b2e3999f97edb4a, type: 2}
  - {fileID: 11400000, guid: 2d9df19ec99fea3479b2a2ffbea729f2, type: 2}
  - {fileID: 11400000, guid: 58ee1ce6752a27547838c2c385c0c5f3, type: 2}
  - {fileID: 11400000, guid: b82937d8bb44dd24c87c53d0f7af6e93, type: 2}
  - {fileID: 11400000, guid: 2254d9ad767ce794bbe33b95cf55b701, type: 2}
  - {fileID: 11400000, guid: 40966a08b65ff784bbc91948a4f45ad7, type: 2}
  - {fileID: 11400000, guid: c29d986b91d8e6048ab45248d189a26f, type: 2}
  - {fileID: 11400000, guid: e9e903bfda2d4ef4784364fa72c2d2e6, type: 2}
  - {fileID: 11400000, guid: 170970b2c0d1c454390bc32ef03c6a0d, type: 2}
  - {fileID: 11400000, guid: 23de98327a5af584eb499a24d9f6eb72, type: 2}
  - {fileID: 11400000, guid: fbe04bce9ed2d354cbbb09a445d7c8b3, type: 2}
  - {fileID: 11400000, guid: 50aa3be7940d1bc498a4071d80d99085, type: 2}
  - {fileID: 11400000, guid: a655e1f054709844ca39caa8d7fab15b, type: 2}
  - {fileID: 11400000, guid: 1418a074eff14124aa2a64de806e059b, type: 2}
  - {fileID: 11400000, guid: 5c66f17dd4b08f545b31fdd7278375db, type: 2}
  - {fileID: 11400000, guid: f69e6de67c480b940bbb275730845728, type: 2}
  - {fileID: 11400000, guid: bfc009304e0c1604eab2b43c8b37f1a6, type: 2}
  - {fileID: 11400000, guid: 5597f26afea17fd4dbae8a2b4c413566, type: 2}
  - {fileID: 11400000, guid: 5690cde160f4808409e47165ecb58f13, type: 2}
  - {fileID: 11400000, guid: eb2178ee5ecd66d45b2c4e2ef1c42c05, type: 2}
  - {fileID: 11400000, guid: 39ec6035166dbfd428ab0dc784f04e85, type: 2}
  - {fileID: 11400000, guid: c6943588e230efe4bb14f152c3642eb8, type: 2}
  - {fileID: 11400000, guid: 551a58d2915b57543bc7c7e3486cdb3f, type: 2}
  - {fileID: 11400000, guid: 1a62a1bdcc1af444ba66bf5731e88787, type: 2}
  - {fileID: 11400000, guid: 29f212bd34ea1f648ad0c896943cef19, type: 2}
  - {fileID: 11400000, guid: 83d0d278287a4914caad4c0a35027cad, type: 2}
  - {fileID: 11400000, guid: 8bce22a595d288941a2f84556486ab40, type: 2}
  - {fileID: 11400000, guid: da52f89781e6c7442b079c64bc9fbb7d, type: 2}
  - {fileID: 11400000, guid: 2d067a799b2eec3499d242fca0d2d6f2, type: 2}
  - {fileID: 11400000, guid: 8a75ac8552d9b3f4ab69759e2aa3926d, type: 2}
  - {fileID: 11400000, guid: a2efacddfac33bd4b8d4bb84157d9990, type: 2}
  - {fileID: 11400000, guid: 2f3852e00bccdd74c8e8cb8b80ac3f93, type: 2}
  - {fileID: 11400000, guid: fa177c2c6a970f947b8a1e29573f2cb2, type: 2}
  - {fileID: 11400000, guid: 68c7ec66895dff74998b5bb39a6f8075, type: 2}
  - {fileID: 11400000, guid: 9c80cd45cc1160d4db535e64aa1433bd, type: 2}
  - {fileID: 11400000, guid: 060e6defb010a3d449bdf69eeb9ad081, type: 2}
  - {fileID: 11400000, guid: ef17d8cfd4debe7439c09d51c42527f8, type: 2}
  - {fileID: 11400000, guid: 21fb9c723ffc55c4a9aaf94e004666a4, type: 2}
  - {fileID: 11400000, guid: 3859e467e5690ca4b811d364867297a6, type: 2}
  - {fileID: 11400000, guid: ac033264474b28f48a785a3c3b01cdf9, type: 2}
  - {fileID: 11400000, guid: a9d17aae07bf5504daf076de7d335770, type: 2}
  - {fileID: 11400000, guid: c1741892f26c38940a8efa303e69fa64, type: 2}
  cardTemplate: {fileID: 9219115360078876347, guid: bc2bce32c46e48b4a9e46b7cd109eddf,
    type: 3}
  cardFieldDefinitions:
  - fieldName: Front
    dataType: 2
    numValue: 0
    stringValue: 
    imageValue: {fileID: 21300000, guid: e2f2a5afbe42b95438d8b4244b042970, type: 3}
    imageSourceName: 
    hideOption: 0
  - fieldName: Value
    dataType: 1
    numValue: 2
    stringValue: 
    imageValue: {fileID: 0}
    imageSourceName: 
    hideOption: 0
  rules:
  - rulesetID: ScoundrelRuleset
    description: 
    turnStructure: StartRoom,PickCards
    customVariableNames: []
    customVariableValues: []
    matchModifiers:
    - modifierID: PrepGame
      tags: 
      trigger: OnMatchSetup
      condition: 
      commands: Shuffle(z(@Dungeon));SetCardFieldValue(c(~Ace),Value,14)
    - modifierID: StartTurnSetCanSkip
      tags: 
      trigger: OnTurnStarted
      condition: LastSkipped=0
      commands: SendMessage(CanSkip)
    - modifierID: StartTurnSetCannotSkip
      tags: 
      trigger: OnTurnStarted
      condition: LastSkipped>0
      commands: SendMessage(CannotSkip);SetVariable(LastSkipped,0)
    - modifierID: CreateRoom
      tags: 
      trigger: OnPhaseStarted
      condition: phase=StartRoom
      commands: MoveCardToZone(c(@Dungeon,x(4-nc(@Room))),z(@Room));EndCurrentPhase
    - modifierID: SkipRoom
      tags: 
      trigger: OnActionUsed
      condition: phase=PickCards&actionName=SkipRoom&nc(@Room)=4&LastSkipped=0
      commands: 'MoveCardToZone(c(@Room),z(@Dungeon),Bottom);SetVariable(LastSkipped,1);

        EndCurrentPhase'
    - modifierID: PickWeapon
      tags: 
      trigger: OnCardClicked
      condition: phase=PickCards&nc(@Battle)=0&clickedCard=>c(@Room,~Diamonds)
      commands: 'MoveCardToZone(c(@Weapon|Defeated),z(@Discard));

        MoveCardToZone(c(#clickedCard),z(@Weapon))'
    - modifierID: PickPotion
      tags: 
      trigger: OnCardClicked
      condition: phase=PickCards&nc(@Battle)=0&clickedCard=>c(@Room,~Hearts)
      commands: 'SetVariable(PlayerHP,+cf(Value,#clickedCard),min,20);

        MoveCardToZone(c(#clickedCard),z(@Discard))'
    - modifierID: PickMonster
      tags: 
      trigger: OnCardClicked
      condition: phase=PickCards&nc(@Battle)=0&clickedCard=>c(@Room,~Clubs|Spades)
      commands: MoveCardToZone(c(#clickedCard),z(@Battle))
    - modifierID: EndPickPhase
      tags: 
      trigger: OnCardEnteredZone
      condition: phase=PickCards&nc(@Room)<=1&targetZone=>z(@Defeated|Discard|Weapon)
      commands: EndCurrentPhase
    - modifierID: FaceMonsterBarehanded
      tags: 
      trigger: OnActionUsed
      condition: 'actionName = FaceMonsterBarehanded &

        nc(@Battle) > 0'
      commands: 'SetVariable(PlayerHP, +-cf(Value,@Battle));

        MoveCardToZone(c(@Battle),z(@Discard))'
    - modifierID: FaceMonsterWithWeapon1
      tags: 
      trigger: OnActionUsed
      condition: 'actionName = FaceMonsterWithWeapon &

        nc(@Battle) > 0 &

        nc(@Weapon) > 0 &

        cf(Value,@Battle) > cf(Value,@Weapon)'
      commands: 'SetVariable(PlayerHP, +cf(Value,@Weapon) - cf(Value,@Battle));

        MoveCardToZone(c(@Battle),z(@Defeated))'
    - modifierID: FaceMonsterWithWeapon2
      tags: 
      trigger: OnActionUsed
      condition: 'actionName = FaceMonsterWithWeapon &

        nc(@Battle) > 0 &

        nc(@Weapon) > 0 &

        cf(Value,@Battle) <= cf(Value,@Weapon)'
      commands: MoveCardToZone(c(@Battle),z(@Defeated))
    - modifierID: VictoryCondition
      tags: 
      trigger: OnTurnEnded
      condition: nc(@Dungeon)=0 & nc(@Room)=0
      commands: SendMessage(Victory); EndTheMatch
    - modifierID: LoseCondition
      tags: 
      trigger: OnCardEnteredZone
      condition: PlayerHP <= 0
      commands: SendMessage(Defeat); EndTheMatch
    - modifierID: GoBarehandedAutomatically
      tags: 
      trigger: OnCardEnteredZone
      condition: "targetZone => z(@Battle) & \n(nc(@Weapon) = 0 | \n(nc(@Weapon) >
        0 & nc(@Defeated) > 0 & cf(Value,@Defeated,x1)<=cf(Value,@Battle) ))"
      commands: UseAction(FaceMonsterBarehanded)
    - modifierID: ChooseWeaponOrBarehanded
      tags: 
      trigger: OnCardEnteredZone
      condition: 'targetZone=>z(@Battle)&nc(@Weapon)>0&

        (nc(@Defeated)=0|cf(Value,@Battle)<cf(Value,@Defeated))'
      commands: SendMessage(BattleSelection)
    - modifierID: NoMoreSkipAfterFirstPick
      tags: 
      trigger: OnCardLeftZone
      condition: oldZone => z(@Room)
      commands: SendMessage(CannotSkip)
  customVariableNames:
  - PlayerHP
  - LastSkipped
  customVariableValues:
  - 20
  - 0
