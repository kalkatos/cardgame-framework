{"cardgameID":"Scoundrel","gameVariableNames":["PlayerHP","LastSkipped","GameEnded"],"gameVariableValues":["20","0","0"],"cardsets":["Traditional54Deck"],"rulesets":[{"rulesetID":"ScoundrelRuleset","description":"","turnStructure":"StartRoom,PickCards","rulesetVariableNames":[],"rulesetVariableValues":[],"matchRules":[{"ruleID":"PrepGame","tags":"","trigger":"OnMatchSetup","condition":"","commands":"Shuffle(z(t:Dungeon));SetCardFieldValue(c(t:Ace),Value,14);SendMessage(WaitForStarting)"},{"ruleID":"StartTurnSetCanSkip","tags":"","trigger":"OnTurnStarted","condition":"LastSkipped=0","commands":"SendMessage(CanSkip)"},{"ruleID":"StartTurnSetCannotSkip","tags":"","trigger":"OnTurnStarted","condition":"LastSkipped>0","commands":"SendMessage(CannotSkip);SetVariable(LastSkipped,0)"},{"ruleID":"CreateRoom","tags":"","trigger":"OnPhaseStarted","condition":"phase=StartRoom","commands":"MoveCardToZone(c(z:Dungeon,x:(4-nc(z:Room))),z(t:Room));EndCurrentPhase"},{"ruleID":"SkipRoom","tags":"","trigger":"OnActionUsed","condition":"phase=PickCards&actionName=SkipRoom&nc(z:Room)=4&LastSkipped=0","commands":"MoveCardToZone(c(z:Room),z(t:Dungeon),Bottom);SetVariable(LastSkipped,1);EndCurrentPhase"},{"ruleID":"PickWeapon","tags":"","trigger":"OnCardUsed","condition":"phase=PickCards&nc(z:Battle)=0&usedCard=c(z:Room,t:Diamonds)","commands":"MoveCardToZone(c(z:Weapon|Defeated),z(t:Discard));MoveCardToZone(c(i:usedCard),z(t:Weapon))"},{"ruleID":"PickPotion","tags":"","trigger":"OnCardUsed","condition":"phase=PickCards&nc(z:Battle)=0&usedCard=c(z:Room,t:Hearts)","commands":"SetVariable(PlayerHP,+cf(Value,i:usedCard),min,20);MoveCardToZone(c(i:usedCard),z(t:Discard))"},{"ruleID":"PickMonster","tags":"","trigger":"OnCardUsed","condition":"phase=PickCards&nc(z:Battle)=0&usedCard=c(z:Room,t:Clubs|Spades)","commands":"MoveCardToZone(c(i:usedCard),z(t:Battle))"},{"ruleID":"EndPickPhase","tags":"","trigger":"OnCardEnteredZone","condition":"phase=PickCards&nc(z:Room)<=1&targetZone=z(t:Defeated|Discard|Weapon)","commands":"EndCurrentPhase"},{"ruleID":"FaceMonsterBarehanded","tags":"","trigger":"OnActionUsed","condition":"actionName=FaceMonsterBarehanded&nc(z:Battle)>0","commands":"SetVariable(PlayerHP,+-cf(Value,z:Battle));MoveCardToZone(c(z:Battle),z(t:Discard))"},{"ruleID":"FaceMonsterWithWeapon1","tags":"","trigger":"OnActionUsed","condition":"actionName=FaceMonsterWithWeapon&nc(z:Battle)>0&nc(z:Weapon)>0&cf(Value,z:Battle)>cf(Value,z:Weapon)","commands":"SetVariable(PlayerHP,+cf(Value,z:Weapon)-cf(Value,z:Battle));MoveCardToZone(c(z:Battle),z(t:Defeated))"},{"ruleID":"FaceMonsterWithWeapon2","tags":"","trigger":"OnActionUsed","condition":"actionName=FaceMonsterWithWeapon&nc(z:Battle)>0&nc(z:Weapon)>0&cf(Value,z:Battle)<=cf(Value,z:Weapon)","commands":"MoveCardToZone(c(z:Battle),z(t:Defeated))"},{"ruleID":"VictoryCondition","tags":"","trigger":"OnTurnEnded","condition":"nc(z:Dungeon)=0&nc(z:Room)=0&GameEnded=0","commands":"SendMessage(Victory);SetVariable(GameEnded,1);EndTheMatch"},{"ruleID":"LoseCondition","tags":"","trigger":"OnCardEnteredZone","condition":"PlayerHP<=0&GameEnded=0","commands":"SendMessage(Defeat);SetVariable(GameEnded,-1);EndTheMatch"},{"ruleID":"GoBarehandedAutomatically","tags":"","trigger":"OnCardEnteredZone","condition":"targetZone=z(t:Battle)&(nc(z:Weapon)=0|(nc(z:Weapon)>0&nc(z:Defeated)>0&cf(Value,z:Defeated,x:1)<=cf(Value,z:Battle)))","commands":"UseAction(FaceMonsterBarehanded)"},{"ruleID":"ChooseWeaponOrBarehanded","tags":"","trigger":"OnCardEnteredZone","condition":"targetZone=z(t:Battle)&nc(z:Weapon)>0&(nc(z:Defeated)=0|cf(Value,z:Battle)<cf(Value,z:Defeated))","commands":"SendMessage(BattleSelection)"},{"ruleID":"NoMoreSkipAfterFirstPick","tags":"","trigger":"OnCardLeftZone","condition":"oldZone=z(t:Room)","commands":"SendMessage(CannotSkip)"}]}]}